(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[237],{1237:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>L});var o=r(5155),n=r(833),s=r(3314),a=r(3710),l=r(933),i=r(2115),c=r(8741),d=r.n(c),p=r(2282),h=r(9579),u=r(4615),x=r(1348),j=r(894),m=r(5899),g=r(8310),f=r(5480);function y(e){let{onSelectCategory:t}=e,[r,n]=(0,i.useState)(null),s=!!r,a=e=>{n(null),null!==e&&t(e)};return(0,o.jsxs)("div",{children:[(0,o.jsx)(p.A,{variant:"outlined",onClick:e=>{n(e.currentTarget)},"aria-controls":s?"category-menu":void 0,"aria-haspopup":"true","aria-expanded":s?"true":void 0,children:"Select Category"}),(0,o.jsxs)(g.A,{id:"category-menu",anchorEl:r,open:s,onClose:()=>a(null),children:[(0,o.jsx)(f.A,{onClick:()=>a(""),children:"All Projects"}),(0,o.jsx)(f.A,{onClick:()=>a("Art-Based Projects"),children:"Art-Based Projects"}),(0,o.jsx)(f.A,{onClick:()=>a("Research Projects"),children:"Research Projects"}),(0,o.jsx)(f.A,{onClick:()=>a("Education and Community Outreach"),children:"Education and Community Outreach"})]})]})}function C(e){let{projects:t,onFlyTo:r}=e,n=t.filter(e=>e["Project Name"]&&!isNaN(parseFloat(e.Latitude))&&!isNaN(parseFloat(e.Longitude)));return 0===n.length?(0,o.jsx)("p",{children:"No projects found for the selected category."}):(0,o.jsx)("ul",{children:n.map((e,t)=>(0,o.jsxs)("li",{onClick:()=>r(parseFloat(e.Latitude),parseFloat(e.Longitude),t),style:{cursor:"pointer",marginBottom:"10px",padding:"5px",border:"1px solid #ddd",borderRadius:"5px",display:"flex",alignItems:"center",gap:"10px"},children:[(0,o.jsx)("img",{src:e.ImageUrl||"https://via.placeholder.com/50",alt:e["Project Name"],style:{width:"50px",height:"50px",borderRadius:"5px"}}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:e["Project Name"]}),(0,o.jsx)("p",{children:e.DescriptionShort})]})]},"".concat(e["Project Name"],"-").concat(t)))})}let A={width:400,display:"flex",flexDirection:"column",height:"100%",p:2},N={display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},v={mt:2},k={mt:2};var b=r(4793);function P(){let[e,t]=(0,i.useState)(!1);return(0,o.jsx)(b.A,{onClick:()=>{let r=!e;t(r);let o=document.body;r?o.classList.add("dark-mode"):o.classList.remove("dark-mode")},className:"moon-button",style:{display:"flex",alignItems:"center",justifyContent:"center",width:"50px",position:"relative",overflow:"hidden"},children:e?(0,o.jsx)("span",{className:"moon-icon",children:"\uD83C\uDF19"}):(0,o.jsx)("span",{className:"sun-icon",children:"☀️"})})}function S(e){let{open:t,onClose:r,onSelectCategory:n,filteredProjects:s,onFlyTo:a,onMoreDetails:l}=e;return(0,o.jsx)(h.Ay,{anchor:"right",open:t,onClose:r,children:(0,o.jsxs)(u.A,{sx:A,children:[(0,o.jsxs)(u.A,{sx:N,children:[(0,o.jsx)(x.A,{variant:"h6",children:"Projects"}),(0,o.jsx)(j.A,{onClick:r,children:(0,o.jsx)(m.A,{})})]}),(0,o.jsx)(P,{}),(0,o.jsx)(u.A,{sx:v,children:(0,o.jsx)(y,{onSelectCategory:n})}),(0,o.jsx)(x.A,{variant:"subtitle1",sx:k,children:"Project List:"}),(0,o.jsx)(C,{projects:s,onFlyTo:a,onMoreDetails:l})]})})}r(3358);var w=r(3536);function D(e){let{project:t,open:r,onClose:n}=e;return t?(0,o.jsx)(w.A,{open:r,onClose:n,children:(0,o.jsxs)(u.A,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80%",bgcolor:"background.paper",boxShadow:24,p:4,display:"flex",flexDirection:"column",gap:2,maxHeight:"90vh",overflowY:"auto"},children:[(0,o.jsx)(x.A,{variant:"h6",children:t["Project Name"]}),(0,o.jsx)(x.A,{children:t.DescriptionLong||"No detailed description available."}),(0,o.jsx)("img",{src:t.ImageUrl||"https://via.placeholder.com/400",alt:t["Project Name"],style:{width:"100%",borderRadius:"8px",marginTop:"10px"}}),(0,o.jsx)(p.A,{variant:"contained",color:"secondary",onClick:n,style:{marginTop:"10px"},children:"Close"})]})}):null}function F(e){let{project:t,onMoreDetails:r}=e;return(0,o.jsxs)("div",{className:"popup-content",children:[(0,o.jsx)("img",{src:t.ImageUrl||"https://via.placeholder.com/150",alt:t["Project Name"],className:"popup-image"}),(0,o.jsx)("strong",{children:t["Project Name"]}),(0,o.jsx)("p",{children:t.DescriptionShort}),(0,o.jsx)(p.A,{variant:"contained",size:"small",onClick:()=>r(t),style:{marginTop:"10px"},children:"More Details"})]})}function L(){let[e,t]=(0,i.useState)([]),[r,c]=(0,i.useState)([]),[d,h]=(0,i.useState)(!1),[u,x]=(0,i.useState)(!1),[j,m]=(0,i.useState)(null),g=(0,i.useRef)([]);(0,i.useEffect)(()=>{fetch("https://adamfehse.github.io/storymapapp/storymapdata.json").then(e=>e.json()).then(e=>{t(e),c(e)}).catch(e=>console.error("Error fetching data:",e))},[]);let f=(e,t)=>!isNaN(e)&&!isNaN(t),y=e=>{m(e),x(!0)},C=()=>{h(e=>!e)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.A,{variant:"contained",color:"primary",onClick:C,style:{position:"absolute",top:"1rem",right:"1rem",zIndex:1e3},children:"Open Sidebar"}),(0,o.jsx)(S,{open:d,onClose:C,onSelectCategory:t=>{"All"===t||""===t?c(e):c(e.filter(e=>e["Project Category"]===t))},projects:e,filteredProjects:r,onFlyTo:(e,t,r)=>{let o=g.current[r];null==o||o.openPopup()},onMoreDetails:y}),(0,o.jsxs)(n.W,{center:[31.916004,-110.990274],zoom:9,style:{height:"100vh",width:"100%"},children:[(0,o.jsx)(s.e,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"\xa9 OpenStreetMap contributors"}),r.filter(e=>f(parseFloat(e.Latitude),parseFloat(e.Longitude))).map((e,t)=>(0,o.jsx)(a.p,{position:[parseFloat(e.Latitude),parseFloat(e.Longitude)],ref:e=>g.current[t]=e,children:(0,o.jsx)(l.z,{children:(0,o.jsx)(F,{project:e,onMoreDetails:y})})},e["Project Name"]+t))]}),(0,o.jsx)(D,{project:j,open:u,onClose:()=>{m(null),x(!1)}})]})}r(4999),r(6240),delete d().Icon.Default.prototype._getIconUrl,d().Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"})},4999:()=>{},6240:()=>{},3358:()=>{}}]);